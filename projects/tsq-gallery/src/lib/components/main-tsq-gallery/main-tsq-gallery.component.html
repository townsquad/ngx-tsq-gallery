<div id="tsq-gallery">
  <div *ngIf="hasMiniPreviews" class="cards-container">
    <ng-container *ngFor="let file of files; let i = index">
      <ng-container *ngTemplateOutlet="fileDisplayTemplate || defaultMiniPreviewDisplayTemplate; context: getListItemContext(file, i)"></ng-container>
    </ng-container>
  </div>
  <ng-container *ngIf="!hasMiniPreviews">
    <ng-container *ngTemplateOutlet="fileDisplayTemplate || defaultNavDisplayTemplate; context: getListItemContext()"></ng-container>
  </ng-container>
</div>

<tsq-gallery-preview #preview
                     [files]="files"
                     [topPreviewTemplate]="topPreviewTemplate"
                     [bottomPreviewTemplate]="bottomPreviewTemplate"
                     [loadingTemplate]="loadingTemplate"
                     [showLoading]="showLoading"
                     [backdropClickClose]="backdropClickClose"
                     [displayNavigation]="displayNavigation"
                     [displayNavigationIndex]="displayNavigationIndex"></tsq-gallery-preview>

<ng-template #defaultMiniPreviewDisplayTemplate let-index="index" let-url="url" let-alt="alt" let-fns="fns">
  <div class="default-gallery-item" (click)="fns.open(index)" [ngStyle]="{'background-image': 'url(\'' + url + '\')'}"></div>
</ng-template>

<ng-template #defaultNavDisplayTemplate let-fns="fns">
  <button (click)="fns.open()">Files</button>
</ng-template>
